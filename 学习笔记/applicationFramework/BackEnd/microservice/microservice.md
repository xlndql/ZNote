# 微服务

**单体架构**：将业务的所有功能集中在一个项目中开发，打成一个包部署。

单体架构的优缺点如下：

**优点：**

* 架构简单
* 部署成本低

**缺点：**

* 耦合度高（维护困难，升级困难）

**分布式架构**：根据业务功能对系统做拆分，每个业务功能模块作为独立项目开发，称为一个服务。

分布式架构的优缺点：

**优点：**

* 降低服务耦合
* 有利于服务升级和拓展

**缺点：**

* 服务调用关系错综复杂

分布式架构虽然降低了服务耦合，但是服务拆分时也有很多问题需要思考：

* 服务拆分的粒度如何界定？
* 服务之间如何调用？
* 服务的调用关系如何管理？

人们需要制定一套行之有效的标准来约束分布式架构。

**微服务：**

![1673944453709](image/microservice/1673944453709.png)

微服务的架构特征：

* 单一职责：微服务拆分粒度更小，每一个服务都对应唯一的业务能力，做到单一职责
* 自治：团队独立、技术独立、数据独立，独立部署和交付
* 面向服务：服务提供统一标准的接口，与语言和技术无关
* 隔离性强：服务调用做好隔离、容错、降级，避免出现级联问题

微服务拆分原则：

* 不同微服务，不要重复开发相同业务
* 微服务数据独立，不要访问其它微服务的数据库
* 微服务可以将自己的业务暴露为接口，供其他微服务调用

**提供者与消费者**

在服务调用关系中会有两个不同的角色：

**服务提供者**：一次业务中，被其它微服务调用的服务。

**服务消费者**：一次业务中，调用其它微服务的服务。

## 目录

* [Spring Cloud](../spring/springcloud/springcloud.md)
* [Spring Cloud Alibaba](../spring/springcloudalibaba/springcloudalibaba.md)
* [服务发现/注册](./registry/register.md)
* 网关
  * Zuul
  * Gateway
* [服务调用（负载均衡）](./load-balance/load-balance.md)
* 熔断/降级
  * Hystrix
* 配置中心
  * Config
  * Apollo
  * Nacos
* 认证和鉴权
  * Shiro
  * Spring Security
    * 用户认证
    * 权限管理
  * OAuth2
  * SSO
* 分布式事务
  * JTA接口
  * 2pC、3PC
  * XA模式
  * TCC模式
  * SAGA模式
  * LCN模式
* 任务调度
  * Quartz
  * Elastic-Job
* 链路追踪与监控
  * Zipkin
  * Sleuth
  * Skywalking
* 日志分析与监控
  * ELK

---
